<!doctype html>
<html lang="en">

<head>
    <title>Michael Adebowale IO Opdracht JS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <h1>Registreer</h1>
                <label>Meld je aan Anoroc Services, Wij beschermen jouw software tegen malware!</label>
            </div>
        </div>
    </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-8">
              <div class="col">
                  <label for="txtvoornaam">Voornaam</label>
                  <input type="text" class="form-control" id="txtvoornaam" placeholder="Uw voornaam">
             </div>
             <div class="col">
                  <label for="txtachternaam">Achternaam</label>
                 <input type="text" class="form-control" id="txtachternaam" placeholder="Uw achternaam ">
             </div>
              <!-- alerts -->
            </div>
            <div class="col-sm-4">
              

             <div class="row alert alert-danger " role="alert" id="red" style="visibility: hidden;" >
                <strong>Yikes, errors...</strong> 
                <p id="alertred"> </p>
              </div>

             

             <div class="row alert alert-success " id="green" role="alert" style="visibility: hidden;">
                <strong>Goed gedaan!</strong> <p>Aww, yeahh, je bent geregistreerd...</p>
              </div>

             

          <div class="row alert alert-info " id="blue" role="alert" style="visibility: hidden;">
            <strong>Betalingswijze</strong>   <p id="btlw"> Je betalingswijze is .... </p>       <script>   document.getElementById("btlw").innerHTML = "Je betalingswijze is Banking"</script> </p>
          </div>

            </div>
       </div>
    </div>
                <!-- form -->
    <div class="container">
      <div class="row">
          <div class="col">

              <label for="txtgebruikersnaam ">Gebruikersnaam</label>
              <div class="input-group mb-2">
                  <div class="input-group-prepend">
                      <div class="input-group-text">@</div>
                  </div>
                  <input type="text " class="form-control " id="txtgebruikersnaam" placeholder="u911236 ">
              </div>
          </div>
          <div class="col">
              <label for="txtemail">E-mailadres</label>
              <input type="email" class="form-control " id="txtemail" placeholder="mail@example.be ">
          </div>
      </div>
   </div>

   <div class="container">
    <div class="row">
        <div class="col">
            <label for="txtwachtwoord ">Wachtwoord</label>
            <input type="password" pattern="{7,}" class="form-control" id="txtwachtwoord" placeholder=" " title= "Moet minstens 1 nummer, 1 grote en 1 kleine letter bevatten, en minstens 8 karakters">
            <small id="passwordHelpInline" class="text-muted">
                Je wachtwoord moet minstens 8 tekens lang zijn.
              </small>
        </div>
             <div class="col">
                  <label for="txtherwachtwoord ">Herhaal wachtwoord</label>
                    <input type="password" class="form-control" id="txtherwachtwoord" placeholder=" ">

             </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col">
                <label for="txtadres ">Adres</label>
                <input type="text " class="form-control " id="txtadres" placeholder="Uw adres en huisnummer ">
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col">
                <label for="dlland ">Land</label>
                <select class="form-control" id="dlland" required>
                    <option selected>Kies een land!</option>
                    <option>Belgium</option>
                    <option>Brazil</option>
                    <option>Canada</option>
                    <option>China</option>
                    <option>France</option>
                    <option>Germany</option>
                    <option>India</option>
                    <option>Itali</option>
                    <option>Japan</option>
                    <option>Russia</option>
                    <option>The Netherlands</option>
                    <option>United Kingdom</option>
                    <option>United States</option>
                </select>
            </div>
            <div class="col ">
                <label for="dlprovincie ">Provincie</label>
                <select class="form-control" id="dlprovincie" required>
                    <option selected>Kies een provincie!</option>
                    <option >Antwerpen</option>
                    <option >Limburg</option>
                    <option >Luik</option>
                    <option >Sao-paulo</option>
                    <option >Minas-Gerais</option>
                    <option >Rio de Janeiro</option>
                    <option >Ontario</option>
                    <option >Quebec</option>
                    <option >Britisch Colombia</option>
                    <option >Shanghai</option>
                    <option >Beijing</option>
                    <option >Guangdong</option>
                    <option >Paris</option>
                    <option >Ile-de-France</option>
                    <option >Provence-Alpes-Côte d'Azur</option>
                    <option >Beieren</option>
                    <option >Noordrijn-Westfalen</option>
                    <option >Baden-Württemberg</option>
                    <option >Maharashtra</option>
                    <option >Uttar Pradesh</option>
                    <option >Rajasthan</option>
                    <option >Lombardijë</option>
                    <option >Veneto</option>
                    <option >Toscane</option>
                    <option >Tokyo</option>
                    <option >Osata</option>
                    <option >Kyoto</option>
                    <option >Moskou</option>
                    <option >Sint-Petersburg</option>
                    <option >Novosibirsk Oblast</option>
                    <option >Noord-Holland</option>
                    <option >Zuid-Holland</option>
                    <option >Utrecht</option>
                    <option >London</option>
                    <option >Schotland</option>
                    <option >Wales</option>
                    <option >California</option>
                    <option >Texas</option>
                    <option >New York</option>
                </select>
            </div>
            

            <div class="col">
                <label for="txtpostcode ">Postcode</label>
                <input type="number" class="form-control " id="txtpostcode" required>
            </div>
        </div>
    </div>

    <hr style="width:75%">

    <div class="container ">
        <div class="row ">
            <div class="col ">
                <h3>Hou me op de hoogte</h3>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                    <label class="form-check-label" for="defaultCheck1">
                      Inschrijven voor onze nieuwsbrief
                    </label>

                </div>
                <div class="col ">
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="defaultCheck2">
                    <label class="form-check-label" for="defaultCheck2">
                    Ik ga akkoord met de algemene voorwaarden.
                    </label>
                </div>
            </div>
            <div class="col "></div>
            <div class="col " id="rb">
                <h3>Betaling</h3>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radiobtn" id="rbbanking" value="option1" checked>
                    <label class="form-check-label" for="rbbanking">
                      Banking app
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radiobtn" id="rboverschrijving" value="option2">
                    <label class="form-check-label" for="rboverschrijving">
                     Overschrijving
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radiobtn" id="rbvisacard" value="option4">
                    <label class="form-check-label" for="rbvisacard">
                      Visa card
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="radiobtn" id="rbpaypal" value="option3">
                    <label class="form-check-label" for="rbpaypal">
                      Paypal
                    </label>
                </div>

            </div>
        </div>
    </div>

    <hr style="width:75%">
<!--  submit button -->
    <div class="container ">
        <div class="row ">
            <div class="auto">
                <button type="button " id="btnregistreren" class="btn btn-primary " style="width:600%">Wave your magic wand</button>
            </div>
        </div>
    </div>

    <script>
        //lege array voor de errors
        let errorsarray = [];

        document.querySelector("#btnregistreren").addEventListener("click", ValidateForm);

            // validatie formulier
        function ValidateForm() 
        {
            errorsarray = []
            checkEmptyField("txtvoornaam", "Het veld voornaam is vereist\n")
            checkEmptyField("txtachternaam", "Het veld achternaam is vereist")
            checkEmptyField("txtgebruikersnaam", "Het veld gebruikersnaam is vereist")
            checkEmptyField("txtadres", "Adres is vereist")
            checkEmptyField("dlland", "Het veld land  is vereist")
            checkEmptyField("dlprovincie", "Provincie  is vereist")

            if (validateEmail("txtemail")) {} else {
                errorsarray.push("E-mailadres is niet correct");
                console.log(errorsarray)
            }
            passwordcheck("txtwachtwoord", "txtherwachtwoord")
            validatePayment()
            controlealerts()
        }
            // kijken of het leeg is
        function checkEmptyField(gegeven, tekst) {
            vullen = document.getElementById(gegeven);
            if (vullen.value == "" || vullen.value == "Kies een land!" || vullen.value == "Kies een provincie!") {
                if(errorsarray.includes(tekst) == false)
                {
                    errorsarray.push(tekst);
                    console.log(errorsarray)
                }
            }
            
        }
        

        function validateEmail(email) {
            //validatie email https://www.codegrepper.com/code-examples/javascript/javascript+regex+email
            //https://www.w3resource.com/javascript/form/email-validation.php
            email2 = document.getElementById(email).value;
            var valEmail =  /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            if (email == "") {} 
            else 
            {
                if (email2.match(valEmail)) {
                    return true;
                    console.log("email is correct")
                } else {
                    return false;
                    console.log("email is niet correct")
                }
            }
        }

        function passwordcheck(wachtwoord1, wachtwoord2) {
            ww1 = document.getElementById(wachtwoord1);
            ww2 = document.getElementById(wachtwoord2);
            var passw = /^\w{8,}$/;

            if (ww1.value == "") {
                errorsarray.push("Het veld wachtwoord is vereist");
                console.log(errorsarray)
            }
            if (ww2.value == "") 
            {
                errorsarray.push("Het veld herhalend wachtwoord is vereist");
                console.log(errorsarray)
            }

            if (ww1.value.match(passw)) 
            {

            } 
            else 
            {
                errorsarray.push("Het wachtwoord is te kort");
                console.log(errorsarray)
            }
            if (ww1.value != ww2.value) 
            {
                errorsarray.push("Je wachtwoorden komen niet overeen.");
                console.log(errorsarray)
            }
        }
        
        function validatepostcode(){
            postcode = document.getElementById("txtpostcode");
            // var postcodecheck = /^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/;
            // if (postcode.value.match(postcodecheck)) 
            // {

            // } 
            // else 
            // {
            //     errorsarray.push("De postcode is niet correct");
            //     console.log(errorsarray)
            // }
            if (postcode.value < 1000 || postcode.value > 9999) 
            {
                errorsarray.push("De waarde van postcode moet tussen 1000 en 9999 liggen.");
                console.log(errorsarray)
            }
        }


        function validateBetaling() {
            
        }
        //alerts laten zien of verbergen, afhankelijk van de errors
        function controlealerts() {
            let lengtearray = errorsarray.length
            if (lengtearray == 0) {
                errorsarray = [];
                document.getElementById('green').style.visibility = "visible";
                document.getElementById('blue').style.visibility = "visible";
                document.getElementById('red').style.visibility = "hidden";
                
            } else {
                let i = 0;
                let errors;
                while (i < errorsarray.length) {
                    errors += errorsarray[i] + "<br>";
                    i++;
                }
                document.getElementById('alertred').innerHTML = errors;
                document.getElementById('red').style.visibility = "visible";
                document.getElementById('green').style.visibility = "hidden";
                document.getElementById('blue').style.visibility = "hidden";
            }
        }

        
    </script>

    <!--  JavaScript -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js " integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo " crossorigin="anonymous "></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js " integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1 " crossorigin="anonymous "></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js " integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM " crossorigin="anonymous "></script>

    </body>
 <!-- Bronnenlijst -->

 <!-- https://www.w3schools.com/bootstrap/bootstrap_forms.asp -->
 <!-- https://www.w3schools.com/bootstrap/bootstrap_dropdowns.asp -->
 <!-- https://www.w3schools.com/bootstrap/bootstrap_alerts.asp -->
 <!-- https://www.codegrepper.com/code-examples/javascript/javascript+regex+email -->
 <!-- https://www.w3resource.com/javascript/form/email-validation.php -->
 <!-- VS Code copilot -->
 <!-- https://www.w3schools.com/bootstrap/bootstrap_forms_inputs.asp -->
 <!-- https://www.w3schools.com/bootstrap/bootstrap_forms_inputs2.asp -->
 <!-- https://www.w3schools.com/bootstrap/bootstrap_grid_system.asp -->
</html>